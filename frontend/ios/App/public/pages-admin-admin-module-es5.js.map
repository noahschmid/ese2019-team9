{"version":3,"sources":["./src/app/pages/admin/add-category/add-category.component.html","./src/app/pages/admin/admin.page.html","./src/app/pages/admin/manage-offers/manage-offers.component.html","./src/app/pages/admin/manage-users/manage-users.component.html","./src/app/models/category.ts","./src/app/pages/admin/add-category/add-category.component.scss","./src/app/pages/admin/add-category/add-category.component.ts","./src/app/pages/admin/add-category/uniqueValidator.ts","./src/app/pages/admin/admin.module.ts","./src/app/pages/admin/admin.page.scss","./src/app/pages/admin/admin.page.ts","./src/app/pages/admin/manage-offers/manage-offers.component.scss","./src/app/pages/admin/manage-offers/manage-offers.component.ts","./src/app/pages/admin/manage-users/manage-users.component.scss","./src/app/pages/admin/manage-users/manage-users.component.ts"],"names":[],"mappings":"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","file":"pages-admin-admin-module-es5.js","sourcesContent":["module.exports = \"<ion-grid class=\\\"grid\\\" *ngIf=\\\"currentCategories\\\">\\n\\t<ion-row>\\n\\t\\t<ion-col size=\\\"12\\\" offset=\\\"0\\\" offset-md=\\\"2\\\" size-md=\\\"8\\\" offset-lg=\\\"3\\\" size-lg=\\\"6\\\" *ngFor=\\\"let category of currentCategories\\\">\\n\\t\\t\\t<ion-card class=\\\"ion-padding\\\">\\n\\t\\t\\t\\t<ion-card-title>{{ category.name }}  <ion-icon name=\\\"create\\\" size=\\\"small\\\" (click)=\\\"editCategory(category)\\\"></ion-icon><ion-icon name=\\\"trash\\\" size=\\\"small\\\" (click)=\\\"onDeleteCategory(category)\\\"></ion-icon></ion-card-title>\\n\\t\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t\\t<ng-container *ngFor=\\\"let subcategory of category.subcategories\\\">\\n\\t\\t\\t\\t\\t\\t<ion-item size=\\\"11\\\">{{subcategory.name}}<ion-icon slot=\\\"end\\\" name=\\\"create\\\" size=\\\"small\\\" (click)=\\\"editCategory(subcategory, category)\\\"></ion-icon><ion-icon name=\\\"trash\\\" slot=\\\"end\\\" size=\\\"small\\\" (click)=\\\"onDeleteCategory(subcategory)\\\"></ion-icon></ion-item>\\n\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t<ion-button (click)=\\\"createNewSubcategoryOn(category)\\\" fill=\\\"empty\\\" class=\\\"greenButton\\\">\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"add\\\"></ion-icon> Subcategory\\n\\t\\t\\t\\t\\t</ion-button>\\n\\t\\t\\t\\t</ion-card-content>\\n\\t\\t\\t</ion-card>\\n\\t\\t</ion-col>\\n\\t</ion-row>\\n</ion-grid>\\n<ion-grid>\\n\\t\\t<ion-row>\\n\\t\\t\\t<ion-col size=\\\"12\\\" offset=\\\"0\\\" offset-md=\\\"2\\\" size-md=\\\"8\\\" offset-lg=\\\"3\\\" size-lg=\\\"6\\\">\\n\\t\\t\\t\\t<form id=\\\"form\\\" [formGroup]=\\\"categoryForm\\\" (ngSubmit)=\\\"onSubmitForm()\\\">\\n\\t\\t\\t\\t\\t<ion-title class=\\\"ion-padding-top\\\">{{ (updateNotCreate) ? 'Update a' : 'Create a new'}} {{ (categoryForm.value.subcategoryToggle) ? 'Subcategory' : 'Category' }}</ion-title>\\n\\t\\t\\t\\t\\t<ion-card>\\n\\t\\t\\t\\t\\t\\t<ion-grid>\\n\\t\\t\\t\\t\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-image-picker #imagePicker class=\\\"imagePicker\\\" (imagePick)=\\\"onImagePicked($event)\\\"></app-image-picker>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-text *ngIf=\\\"updateNotCreate\\\">New Icon</ion-text>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\\\"updateNotCreate\\\" [src]=\\\"selectedCategory.image\\\" class=\\\"image\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-text *ngIf=\\\"updateNotCreate\\\">Previous Icon</ion-text>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t\\t\\t\\t</ion-grid>\\n\\t\\t\\t\\t\\t</ion-card>\\n\\t\\t\\t\\t\\t<ion-card>\\n\\t\\t\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t\\t\\t<ion-label>Add a Subcategory</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t<ion-toggle id=\\\"subcategoryToggle\\\" [formGroup]=\\\"categoryForm\\\" formControlName=\\\"subcategoryToggle\\\">\\n\\t\\t\\t\\t\\t\\t\\t</ion-toggle>\\n\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t</ion-card>\\n\\t\\t\\t\\t\\t<ion-card *ngIf=\\\"categoryForm.value.subcategoryToggle\\\">\\n\\t\\t\\t\\t\\t\\t<ion-select formControlName=\\\"parentSlug\\\" placeholder=\\\"Select the parent Category\\\" okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-select-option [value]=\\\"category.slug\\\" *ngFor=\\\"let category of currentCategories\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-label> {{ category.name }}</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t</ion-select-option>\\n\\t\\t\\t\\t\\t\\t</ion-select>\\n\\t\\t\\t\\t\\t</ion-card>\\n\\t\\t\\t\\t\\t<ion-card (ionChange)=\\\"onCategoryNameChange($event)\\\">\\n\\t\\t\\t\\t\\t\\t<app-input-form [inputForm]=\\\"categoryForm\\\" [givenName]=\\\"'name'\\\" [text]=\\\"'Category Name'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationMessages]=\\\"validationMessages.name\\\" [type]=\\\"'text'\\\" [inputMode]=\\\"'text'\\\"></app-input-form>\\n\\t\\t\\t\\t\\t</ion-card>\\n\\t\\t\\t\\t\\t<ion-card>\\n\\t\\t\\t\\t\\t\\t<app-input-form [inputForm]=\\\"categoryForm\\\" [givenName]=\\\"'slug'\\\" [text]=\\\"'Category Slug'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationMessages]=\\\"validationMessages.slug\\\" [type]=\\\"'text'\\\" [inputMode]=\\\"'text'\\\" [async]=\\\"slugAsyncTexts\\\"></app-input-form>\\n\\t\\t\\t\\t\\t\\t<ion-button fill=\\\"outline\\\" *ngIf=\\\"categoryForm.get('slug').hasError('unique') && !updateNotCreate\\\" (click)=\\\"changeMode('update')\\\">Update Category instead?</ion-button>\\n\\t\\t\\t\\t\\t</ion-card>\\n\\t\\t\\t\\t\\t<ion-button fill=\\\"outline\\\" class=\\\"blueButton ion-margin-start\\\" type=\\\"submit\\\">{{(updateNotCreate) ? 'Update' : 'Create'}} Category</ion-button>\\n\\t\\t\\t\\t\\t<ion-button fill=\\\"outline\\\" class=\\\"blueButton\\\" (click)=\\\"changeMode('create')\\\" *ngIf=\\\"updateNotCreate\\\">Create new Category</ion-button>\\n\\t\\t\\t\\t</form>\\n\\t\\t\\t</ion-col>\\n\\t\\t</ion-row>\\n</ion-grid>\\n\\n\"","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <app-header></app-header><ion-segment (ionChange)=\\\"onTabSwitch($event)\\\">\\n        <ion-segment-button value=\\\"0\\\" checked>\\n            <ion-label>Offers</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"1\\\">\\n            <ion-label>Users</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"2\\\">\\n            <ion-label>Categories</ion-label>\\n        </ion-segment-button>\\n    </ion-segment>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <app-manage-offers *ngIf=\\\"selectedTab === 0\\\"></app-manage-offers>\\n    <app-manage-users *ngIf=\\\"selectedTab === 1\\\"></app-manage-users>\\n    <app-add-category *ngIf=\\\"selectedTab === 2\\\"></app-add-category>\\n</ion-content>\"","module.exports = \"<ion-list>\\n  <ion-grid #grid class=\\\"ion-padding-start\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"4\\\" size-lg=\\\"3\\\">\\n        <ion-row>\\n          <ion-col>\\n            <ion-item>\\n              <ion-label>Show verified</ion-label>\\n              <ion-checkbox\\n                (ionChange)=\\\"onToggleShowVerified($event)\\\"\\n                checked\\n                slot=\\\"start\\\"\\n              ></ion-checkbox>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-item>\\n              <ion-label>Show in Revise</ion-label>\\n              <ion-checkbox\\n                (ionChange)=\\\"onToggleShowRevise($event)\\\"\\n                checked\\n                slot=\\\"start\\\"\\n              ></ion-checkbox>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n      <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" size-md=\\\"4\\\" size-lg=\\\"3\\\" offset-md=\\\"4\\\" offset-lg=\\\"6\\\">\\n        <ion-select #sortSelection placeholder=\\\"Sort by\\\" okText=\\\"Sort\\\" cancelText=\\\"Cancel\\\" (ionChange)=\\\"onSortChange($event)\\\">\\n            <ion-select-option value=\\\"+date\\\">Date ascending</ion-select-option>\\n            <ion-select-option value=\\\"-date\\\">Date descending</ion-select-option>\\n            <ion-select-option value=\\\"+name\\\">Product Name ascending</ion-select-option>\\n            <ion-select-option value=\\\"-name\\\">Product Name descending</ion-select-option>\\n            <ion-select-option value=\\\"+seller.name\\\">Seller Name ascending</ion-select-option>\\n            <ion-select-option value=\\\"-seller.name\\\">Seller descending</ion-select-option>\\n            <ion-select-option value=\\\"-status\\\">Status ascending</ion-select-option>\\n            <ion-select-option value=\\\"+status\\\">Status descending</ion-select-option>\\n        </ion-select>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"list-header\\\">\\n      <ion-col size=\\\"9\\\" size-sm=\\\"4\\\" class=\\\"bold\\\">Name<ng-container *ngIf=\\\"sorting.name != 0\\\"></ng-container></ion-col>\\n      <ion-col class=\\\"hide-sm\\\" size=\\\"9\\\" size-sm=\\\"4\\\" class=\\\"bold\\\">Seller</ion-col>\\n      <ion-col size=\\\"3\\\" size-sm=\\\"4\\\" class=\\\"bold\\\">Status</ion-col>\\n    </ion-row>\\n    <ion-row *ngFor=\\\"let offer of listOfOffers; let first = first\\\">\\n      <ion-item-sliding>\\n        <ion-item\\n          class=\\\"ion-no-padding cursor-pointer\\\"\\n          (click)=\\\"offer.openDetail = !offer.openDetail\\\"\\n        >\\n          <ion-col size=\\\"9\\\" size-sm=\\\"4\\\">\\n            {{ offer.name }}\\n          </ion-col>\\n          <ion-col class=\\\"hide-sm\\\" size=\\\"4\\\">\\n            {{ offer.seller.name }}\\n          </ion-col>\\n          <ion-col size=\\\"2\\\">\\n            <ion-icon\\n              size=\\\"large\\\"\\n              [class]=\\\"\\n                offer.verified\\n                  ? 'verified'\\n                  : offer.toRevise\\n                  ? 'revise'\\n                  : 'nonverified'\\n              \\\"\\n              [name]=\\\"\\n                offer.verified\\n                  ? 'checkmark-circle'\\n                  : offer.toRevise\\n                  ? 'alert'\\n                  : 'close-circle'\\n              \\\"\\n              [title]=\\\"\\n                offer.verified\\n                  ? 'Verified'\\n                  : offer.toRevise\\n                  ? 'Revising'\\n                  : 'Not verified'\\n              \\\"\\n            >\\n            </ion-icon>\\n          </ion-col>\\n          <ion-col size=\\\"1\\\" offset-sm=\\\"1\\\">\\n            <ion-icon\\n              [name]=\\\"offer.openDetail ? 'ios-arrow-up' : 'ios-arrow-down'\\\"\\n            ></ion-icon>\\n          </ion-col>\\n        </ion-item>\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option\\n            color=\\\"warning\\\"\\n            (click)=\\\"reviseOffer(offer._id, offer.name, offer.seller._id)\\\"\\n          >\\n            Revise\\n          </ion-item-option>\\n          <ion-item-option\\n            color=\\\"danger\\\"\\n            (click)=\\\"deleteOffer(offer._id, offer.name, offer.seller._id)\\\"\\n          >\\n            Delete\\n          </ion-item-option>\\n        </ion-item-options>\\n        <ion-item-options side=\\\"start\\\">\\n          <ion-item-option\\n            color=\\\"success\\\"\\n            (click)=\\\"verifyOffer(offer._id, offer.name, offer.seller._id)\\\"\\n            >Accept</ion-item-option\\n          >\\n        </ion-item-options>\\n      </ion-item-sliding>\\n      <ion-col *ngIf=\\\"offer.openDetail\\\" size=\\\"12\\\" size-sm=\\\"6\\\">\\n        <ion-card scrollX=\\\"true\\\">\\n          <ion-card-title class=\\\"ion-padding-horizontal\\\">\\n            {{ offer.name }}\\n          </ion-card-title>\\n          <ion-card-content>\\n            <ion-list>\\n              <ion-item title=\\\"Price\\\">\\n                <ion-label><ion-icon name=\\\"pricetags\\\"></ion-icon></ion-label>\\n                <div class=\\\"scroll\\\">{{ offer.price }}</div>\\n              </ion-item>\\n              <ion-item title=\\\"Product Location\\\">\\n                <ion-label><ion-icon name=\\\"pin\\\"></ion-icon></ion-label\\n                >{{ offer.location }}\\n              </ion-item>\\n              <ion-item title=\\\"Category\\\">\\n                <ion-label><ion-icon name=\\\"folder\\\"></ion-icon></ion-label\\n                >{{ offer.category.name }}\\n              </ion-item>\\n              <ion-item title=\\\"Seller Name\\\">\\n                <ion-label><ion-icon name=\\\"person\\\"></ion-icon></ion-label\\n                >{{ offer.seller.name }}\\n              </ion-item>\\n              <ion-item title=\\\"Seller Email\\\">\\n                <ion-label><ion-icon name=\\\"at\\\"></ion-icon></ion-label>\\n                <div class=\\\"scroll\\\">{{ offer.seller.email }}</div>\\n              </ion-item>\\n              <ion-item title=\\\"Created at\\\">\\n                    <ion-label><ion-icon name=\\\"calendar\\\"></ion-icon></ion-label>\\n                    <div class=\\\"scroll\\\">{{ getDateString(offer.date) }}</div>\\n                  </ion-item>\\n            </ion-list>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col *ngIf=\\\"offer.openDetail\\\" size=\\\"12\\\" size-sm=\\\"6\\\">\\n        <ion-card class=\\\"ion-padding\\\">\\n          <div class=\\\"scroll\\\">{{ offer.description }}</div>\\n        </ion-card>\\n      </ion-col>\\n      <ion-col\\n        *ngIf=\\\"offer.openDetail\\\"\\n        offset=\\\"0\\\"\\n        size=\\\"12\\\"\\n        offset-sm=\\\"6\\\"\\n        size-sm=\\\"12\\\"\\n      >\\n        <ion-button\\n          color=\\\"danger\\\"\\n          (click)=\\\"deleteOffer(offer._id, offer.name, offer.seller._id)\\\"\\n          >Delete</ion-button\\n        >\\n        <ion-button\\n          color=\\\"warning\\\"\\n          (click)=\\\"reviseOffer(offer._id, offer.name, offer.seller._id)\\\"\\n          >Revise</ion-button\\n        >\\n        <ion-button\\n          color=\\\"success\\\"\\n          (click)=\\\"verifyOffer(offer._id, offer.name, offer.seller._id)\\\"\\n          >Accept</ion-button\\n        >\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-list>\\n\"","module.exports = \"<ion-list>\\n    <ion-grid class=\\\"ion-padding-start\\\">\\n        <ion-row *ngFor=\\\"let user of userList\\\">\\n            <ion-col size=\\\"12\\\" offset=\\\"0\\\" offset-md=\\\"2\\\" size-md=\\\"8\\\" offset-lg=\\\"3\\\" size-lg=\\\"6\\\">\\n            <ion-item-sliding>\\n                <ion-item class=\\\"ion-no-padding cursor-pointer {{ user.admin ? 'admin-user' : '' }}\\\"\\n                          (click)=\\\"user.openDetail = !user.openDetail\\\">\\n                    <ion-col size-md=\\\"2\\\">\\n                        <img class=\\\"adminBadge\\\" *ngIf=\\\"user.admin\\\" src=\\\"../../../../assets/images/admin.png\\\">\\n                        <ion-avatar class=\\\"hide-sm\\\">\\n                            <img *ngIf=\\\"!isUndefined(user.image)\\\" src=\\\"{{ user.image }}\\\">\\n                        </ion-avatar>\\n                    </ion-col>\\n                    <ion-col size=\\\"9\\\">\\n                        {{ user.email }}\\n                    </ion-col>\\n                    <ion-col size=\\\"1\\\">\\n                        <ion-icon [name]=\\\"\\n\\t\\t\\t\\t\\t\\t\\tuser.openDetail\\n\\t\\t\\t\\t\\t\\t\\t  ? 'ios-arrow-up'\\n\\t\\t\\t\\t\\t\\t\\t  : 'ios-arrow-down'\\n\\t\\t\\t\\t\\t\\t  \\\"></ion-icon>\\n                    </ion-col>\\n                </ion-item>\\n                <ion-item-options side=\\\"end\\\">\\n                    <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteUser(user._id)\\\">\\n                        Delete\\n                    </ion-item-option>\\n                </ion-item-options>\\n            </ion-item-sliding>\\n            <ion-col *ngIf=\\\"user.openDetail\\\">\\n                <app-profile-informations\\n                        [profileItem]=\\\"user\\\" [changeable]=\\\"!user.admin\\\"\\n                        [valuesToHide]=\\\"valuesToHide\\\" [type]=\\\"'user'\\\"\\n                        (deleteEvent) = \\\"deleteUser(user._id)\\\"\\n                        (updateEvent)=\\\"getAllUsers()\\\"></app-profile-informations>\\n            </ion-col>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n</ion-list>\\n\"","export class Category {\n    private _id?: string;\n    private _name: string;\n    private _parentId: string;\n    private _slug: string;\n    private _image: string;\n    private _parentSlug: string;\n\n    constructor(name: string, slug: string, image: string, id?: string, parentId?: string, parentSlug?: string){\n        this.name = name;\n        this.slug = slug;\n        this.image = image;\n        if (id) this.id = id;\n        if (parentId) this.parentId = parentId;\n        if (parentSlug) this._parentSlug = parentSlug;\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n    public set id(value: string) {\n        this._id = value;\n    }\n    public get name(): string {\n        return this._name;\n    }\n    public set name(value: string) {\n        this._name = value;\n    }\n    public get parentId(): string {\n        return this._parentId;\n    }\n    public set parentId(value: string) {\n        this._parentId = value;\n    }\n    public get slug(): string {\n        return this._slug;\n    }\n    public set slug(value: string) {\n        this._slug = value;\n    }\n    public get image(): string {\n        return this._image;\n    }\n    public set image(value: string) {\n        this._parentSlug = value;\n    }\n    public get parentSlug(): string {\n        return this._parentSlug;\n    }\n    public set parentSlug(value: string) {\n        this._parentSlug = value;\n    }\n    public toJSON() {\n        return JSON.parse(`{\"name\":\"${this.name}\", \"slug\":\"${this.slug}\" ${(this.id)? `,\"id\":\"${this.id}\"` : \"\"} ${(this.parentSlug)? `,\"parentSlug\":\"${this.parentSlug}\"` : \"\"}}`);\n    }\n}","module.exports = \".grid {\\n  border-bottom: 1px solid var(--ion-color-dark);\\n}\\n\\n:host ion-button {\\n  max-width: 100%;\\n}\\n\\n.image {\\n  border: 1px solid var(--ion-color-primary);\\n}\\n\\n@media (max-width: 768px) {\\n  .image {\\n    width: 25vw;\\n    height: 25vw;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  .image {\\n    width: 20vw;\\n    height: 20vw;\\n  }\\n}\\n\\n.imagePicker {\\n  width: 100%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n@media (max-width: 768px) {\\n  .imagePicker {\\n    width: 25vw;\\n    height: 25vw;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  .imagePicker {\\n    width: 20vw;\\n    height: 20vw;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL2FkbWluL2FkZC1jYXRlZ29yeS9hZGQtY2F0ZWdvcnkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2FkbWluL2FkZC1jYXRlZ29yeS9hZGQtY2F0ZWdvcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSw4Q0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0ksMENBQUE7QUNDSjs7QURBSTtFQUZKO0lBR00sV0FBQTtJQUNBLFlBQUE7RUNHSjtBQUNGOztBREZJO0VBTko7SUFPTSxXQUFBO0lBQ0EsWUFBQTtFQ0tKO0FBQ0Y7O0FERkE7RUFDSSxXQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNLSjs7QURKSTtFQUxKO0lBTU0sV0FBQTtJQUNBLFlBQUE7RUNPSjtBQUNGOztBRE5JO0VBVEo7SUFVTSxXQUFBO0lBQ0EsWUFBQTtFQ1NKO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hZG1pbi9hZGQtY2F0ZWdvcnkvYWRkLWNhdGVnb3J5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmdyaWQge1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItZGFyayk7XG59XG5cbjpob3N0IGlvbi1idXR0b24ge1xuICAgIG1heC13aWR0aDogMTAwJTtcbn1cblxuLmltYWdlIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICB3aWR0aDogMjV2dztcbiAgICAgIGhlaWdodDogMjV2dztcbiAgICB9XG4gICAgQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7XG4gICAgICB3aWR0aDogMjB2dztcbiAgICAgIGhlaWdodDogMjB2dztcbiAgICB9XG59XG5cbi5pbWFnZVBpY2tlciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgd2lkdGg6IDI1dnc7XG4gICAgICBoZWlnaHQ6IDI1dnc7XG4gICAgfVxuICAgIEBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xuICAgICAgd2lkdGg6IDIwdnc7XG4gICAgICBoZWlnaHQ6IDIwdnc7XG4gICAgfVxufVxuIiwiLmdyaWQge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLWRhcmspO1xufVxuXG46aG9zdCBpb24tYnV0dG9uIHtcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG4uaW1hZ2Uge1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmltYWdlIHtcbiAgICB3aWR0aDogMjV2dztcbiAgICBoZWlnaHQ6IDI1dnc7XG4gIH1cbn1cbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xuICAuaW1hZ2Uge1xuICAgIHdpZHRoOiAyMHZ3O1xuICAgIGhlaWdodDogMjB2dztcbiAgfVxufVxuXG4uaW1hZ2VQaWNrZXIge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmltYWdlUGlja2VyIHtcbiAgICB3aWR0aDogMjV2dztcbiAgICBoZWlnaHQ6IDI1dnc7XG4gIH1cbn1cbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xuICAuaW1hZ2VQaWNrZXIge1xuICAgIHdpZHRoOiAyMHZ3O1xuICAgIGhlaWdodDogMjB2dztcbiAgfVxufSJdfQ== */\"","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {CategoryService} from 'src/app/core/services/categoryService/category.service';\nimport {Category} from 'src/app/models/category';\nimport {FormGroupName, FormGroup, FormBuilder, Validators, FormControl, AbstractControl} from '@angular/forms';\nimport {UniqueValidator} from './uniqueValidator'\nimport {ProgressIndicatorService} from 'src/app/core/services/progressIndicatorService/progress-indicator.service';\nimport {AlertController} from '@ionic/angular';\nimport {ImagePickerComponent} from \"../../../shared/components/image-picker/image-picker.component\";\n\n@Component({\n    selector: 'app-add-category',\n    templateUrl: './add-category.component.html',\n    styleUrls: ['./add-category.component.scss'],\n})\nexport class AddCategoryComponent implements OnInit {\n    @ViewChild(ImagePickerComponent, {static: false}) imagePicker: ImagePickerComponent;\n    currentCategories: Category[] = [];\n    categoryForm: FormGroup;\n    imageFile;\n    updateNotCreate: boolean = false;\n    selectedCategory: Category;\n\n    slugAsyncTexts = {pendingText: 'Checking if slug is unique', validText: 'Slug is available'};\n\n    validationMessages = {\n        name: [\n            {type: 'required', message: 'Name is required'},\n            {type: 'text', message: 'Not a valid Name'},\n            {type: 'minlength', message: 'Name must be longer than 5 characters'},\n            {type: 'maxlength', message: 'Name must be less than 30 characters'}\n        ],\n        slug: [\n            {type: 'required', message: 'Slug is required'},\n            {type: 'text', message: 'Not a valid Slug'},\n            {type: 'minlength', message: 'Slug must be longer than 5 characters'},\n            {type: 'maxlength', message: 'Slug must be less than 30 characters'},\n            {type: 'pattern', message: 'Slug can only contain lowercase, alphabetic characters'},\n            {type: 'unique', message: 'A (Sub)Category with this slug already exists'}\n        ]\n    }\n\n    constructor(\n        private categoryService: CategoryService,\n        private formBuilder: FormBuilder,\n        private progressIndicatorService: ProgressIndicatorService,\n        private alertController: AlertController) {\n    }\n\n    ngOnInit() {\n        this.categoryService.getCategories().subscribe(\n            data => {\n                this.currentCategories = data;\n                if (!this.updateNotCreate) this.setUniqueValidator();\n            },\n            err => {\n                console.log(err);\n            }\n        );\n        this.categoryForm = this.formBuilder.group({\n            subcategoryToggle: [],\n            parentSlug: [],\n            name: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(30)]],\n            slug: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(30), Validators.pattern(/^[a-z]+$/)]]\n        });\n    }\n\n    editCategory(category: Category, parentCategory?: Category) {\n        this.changeMode('update');\n        const hasParentCategory = Boolean(parentCategory);\n        this.categoryForm.controls['subcategoryToggle'].setValue(hasParentCategory);\n        if (hasParentCategory) this.categoryForm.controls['parentSlug'].setValue(parentCategory.slug)\n        this.selectedCategory = category;\n        this.categoryForm.controls['name'].setValue(category.name);\n        this.categoryForm.controls['slug'].setValue(category.slug);\n        this.categoryForm.markAsUntouched();\n        this.categoryForm.markAsPristine();\n        document.querySelector('#form').scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"nearest\"});\n    }\n\n    createNewSubcategoryOn(category) {\n        this.changeMode('create');\n        this.categoryForm.controls['subcategoryToggle'].setValue(true);\n        this.categoryForm.controls['parentSlug'].setValue(category.slug);\n        document.querySelector('#form').scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"nearest\"});\n    }\n\n    onCategoryNameChange(event: any) {\n        let name = event.target.value;\n        name = name.toLowerCase();\n        name = name.replace(/ä/g, 'ae').replace(/ö/g, 'oe').replace(/ü/g, 'ue').replace(/[^a-z]/g, '');\n        this.categoryForm.controls['slug'].setValue(name);\n        this.categoryForm.controls['slug'].updateValueAndValidity();\n        this.categoryForm.controls['slug'].markAsDirty();\n    }\n\n    onSubmitForm() {\n        let promise;\n        this.progressIndicatorService.presentLoading(`${this.updateNotCreate ? 'Updating ' : 'Creating '} the category`);\n        if (this.updateNotCreate) {\n            promise = this.updateCategory(this.categoryForm);\n        } else {\n            promise = this.createCategory(this.categoryForm.value);\n        }\n        promise.then(\n            (data) => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Category updated');\n                this.categoryForm.reset();\n                //this.imagePicker.resetImage();\n            }, reason => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Category not updated', 'danger');\n                console.log(reason);\n            }).then(() => {\n            this.categoryService.getCategories().subscribe(\n                data => {\n                    this.currentCategories = data;\n                    if (!this.updateNotCreate) this.setUniqueValidator();\n                },\n                err => {\n                    console.log(err);\n                }\n            );\n        });\n    }\n\n    setUniqueValidator() {\n        this.categoryForm.controls['slug'].setAsyncValidators(UniqueValidator(this.currentCategories, 'slug'));\n        this.categoryForm.controls['slug'].updateValueAndValidity();\n    }\n\n    onImagePicked(imageData: string | File) {\n        if (typeof imageData === 'string') {\n            try {\n                this.imageFile = this.base64toBlob(imageData.replace('data:image/jpeg;base64,', ''), 'image/jpeg');\n            } catch (error) {\n                console.log(error);\n                return;\n            }\n        } else {\n            this.imageFile = imageData;\n        }\n    }\n\n    base64toBlob(base64Data, contentType) {\n        contentType = contentType || '';\n        const sliceSize = 1024;\n        const byteCharacters = atob(base64Data);\n        const bytesLength = byteCharacters.length;\n        const slicesCount = Math.ceil(bytesLength / sliceSize);\n        const byteArrays = new Array(slicesCount);\n\n        for (let sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n            const begin = sliceIndex * sliceSize;\n            const end = Math.min(begin + sliceSize, bytesLength);\n\n            const bytes = new Array(end - begin);\n            for (let offset = begin, i = 0; offset < end; ++i, ++offset) {\n                bytes[i] = byteCharacters[offset].charCodeAt(0);\n            }\n            byteArrays[sliceIndex] = new Uint8Array(bytes);\n        }\n        return new Blob(byteArrays, {type: contentType});\n    }\n\n    changeMode(mode: string) {\n        this.categoryForm.reset();\n        this.updateNotCreate = mode === 'update';\n        if (this.updateNotCreate) {\n            this.categoryForm.controls['slug'].clearAsyncValidators();\n            this.slugAsyncTexts = undefined;\n        } else {\n            this.setUniqueValidator();\n            this.slugAsyncTexts = {pendingText: 'Checking if slug is unique', validText: 'Slug is available'};\n        }\n    }\n\n    updateCategory(form: FormGroup): Promise<any> {\n        return new Promise((resolve, reject) => {\n            let body = `{`;\n            let controlKeys = Object.keys(form.controls);\n            let firstLine = true;\n            controlKeys.forEach((key) => {\n                if (form.controls[key].dirty) {\n                    body += `${(firstLine) ? '' : ','}\"${key}\":\"${form.controls[key].value}\"`;\n                    firstLine = false;\n                }\n            });\n            if (form.controls['subcategoryToggle'].dirty && !form.controls['subcategoryToggle'].value) {\n                body += `${(firstLine) ? '' : ','}\"parentId\":null`;\n            }\n            body += `}`;\n            if (firstLine) {\n                this.progressIndicatorService.presentToast('Nothing has been changed', \"warning\");\n                return;\n            }\n            ;\n            this.categoryService.updateCategory((this.selectedCategory as any)._id, body, this.imageFile).subscribe((data) => {\n                resolve(data);\n            }, (err) => {\n                reject(err);\n            });\n        });\n    }\n\n    createCategory(values: FormGroup[\"value\"]) {\n        return new Promise((resolve, reject) => {\n            if (!this.imageFile) reject('Specify an image');\n            const category = new Category(values.name, values.slug, '')\n            if (values.subcategoryToggle) {\n                category.parentSlug = values.parentSlug;\n            }\n            this.categoryService.addCategory(category, this.imageFile).subscribe((data) => {\n                resolve(data);\n            }, (err) => {\n                reject(err);\n            });\n        });\n    }\n\n    onDeleteCategory(category: Category) {\n        const promise = this.presentAlertConfirm(category);\n        promise.then((shouldDelete) => {\n            if (!shouldDelete) {\n                return;\n            }\n            this.progressIndicatorService.presentLoading('Deleting Category');\n            this.categoryService.deleteCategory((category as any)._id).subscribe(\n                (data) => {\n                    this.progressIndicatorService.dismissLoadingIndicator();\n                    this.progressIndicatorService.presentToast('Sucessfully deleted Category', 'success');\n                    this.categoryService.getCategories().subscribe(\n                        data => {\n                            this.currentCategories = data;\n                            if (!this.updateNotCreate) this.setUniqueValidator();\n                        },\n                        err => {\n                            console.log(err);\n                        }\n                    );\n                }, (error) => {\n                    this.progressIndicatorService.dismissLoadingIndicator();\n                    this.progressIndicatorService.presentToast('Could not delete Category', 'danger');\n                    console.log(error);\n                }\n            );\n        });\n    }\n\n    async presentAlertConfirm(category) {\n        return new Promise(async (resolve, reject) => {\n            const alert = await this.alertController.create({\n                header: 'Confirm!',\n                message: `Are you sure you want to delete the category <strong>${category.name}</strong>`,\n                buttons: [\n                    {\n                        text: 'Cancel',\n                        role: 'cancel',\n                        cssClass: 'cancel-button',\n                        handler: () => {\n                            resolve(false);\n                        }\n                    }, {\n                        text: 'Delete',\n                        cssClass: 'delete-button',\n                        handler: () => {\n                            resolve(true)\n                        }\n                    }\n                ]\n            });\n            alert.onWillDismiss().then(() => {\n                resolve(false);\n            });\n            await alert.present();\n        });\n    }\n}\n\n\n","import { AbstractControl } from '@angular/forms';\nimport { Category } from 'src/app/models/category';\n\nexport const UniqueValidator = (objArr: Category[], fieldname: string) => {\n    return (control:AbstractControl) => {\n        return new Promise((resolve) => {\n            let workingArray = [...objArr];\n            while (workingArray.length > 0) {\n                if (workingArray[0][fieldname] === control.value) {\n                    resolve({unique: true});\n                }\n                if ((workingArray[0] as any).subcategories){\n                    for (let i = 0; i < (workingArray[0] as any).subcategories.length; i++ ){\n                        workingArray.push((workingArray[0] as any).subcategories[i]);\n                    }\n                }\n                workingArray.splice(0,1)\n            }\n            resolve(null);\n        });\n    }\n  }","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\n\nimport {HeaderModule} from '../../core/header.module';\nimport { AdminPage } from './admin.page';\nimport { ManageOffersComponent } from './manage-offers/manage-offers.component';\nimport { ManageUsersComponent } from './manage-users/manage-users.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { AddCategoryComponent } from './add-category/add-category.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { InputFormModule } from 'src/app/shared/input-form.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HeaderModule,\n    SharedModule,\n    InputFormModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AdminPage, ManageOffersComponent, ManageUsersComponent, AddCategoryComponent]\n})\nexport class AdminPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FkbWluL2FkbWluLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild, ViewChildren, QueryList } from '@angular/core';\nimport { ManageOffersComponent } from './manage-offers/manage-offers.component';\nimport { isUndefined } from 'util';\n\n@Component({\n  selector: 'app-admin',\n  templateUrl: './admin.page.html',\n  styleUrls: ['./admin.page.scss'],\n})\nexport class AdminPage implements OnInit {\n\n  private selectedTab = -1;\n  private deleteOffersComponent;\n  @ViewChildren(ManageOffersComponent) deleteOffersComponentQueryList: QueryList<ManageOffersComponent>;\n\n    constructor() {\n    }\n\n    ngOnInit(){}\n\n    ngAfterViewInit() {\n      this.selectedTab = 0;\n      this.deleteOffersComponentQueryList.changes.subscribe((components: QueryList<ManageOffersComponent>) => {\n        this.deleteOffersComponent = components.first;\n        this.updateProducts();\n      });\n    }\n\n    onTabSwitch(evt: CustomEvent) {\n        const id = parseInt(evt.detail.value, 10);\n        this.selectedTab = id;\n        if (id === 0) {\n            this.updateProducts();\n        } else if (id === 1) {\n            this.selectTabManageUsers();\n        }\n    }\n\n    updateProducts() {\n      if (isUndefined(this.deleteOffersComponent)) return;\n      this.deleteOffersComponent.updateProducts();\n    }\n\n    selectTabManageUsers() {\n        // (Re-)load all Users from Backend\n    }\n\n    \n\n}\n","module.exports = \".verified {\\n  color: var(--ion-color-success);\\n}\\n\\n.nonverified {\\n  color: var(--ion-color-danger);\\n}\\n\\n.revise {\\n  color: var(--ion-color-warning);\\n}\\n\\n.cursor-pointer {\\n  cursor: pointer;\\n}\\n\\n.scroll {\\n  overflow: auto;\\n  overflow-wrap: normal;\\n}\\n\\n.bold {\\n  font-weight: bold;\\n}\\n\\n@media (max-width: 576px) {\\n  .hide-sm {\\n    display: none !important;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL2FkbWluL21hbmFnZS1vZmZlcnMvbWFuYWdlLW9mZmVycy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvcGFnZXMvYWRtaW4vbWFuYWdlLW9mZmVycy9tYW5hZ2Utb2ZmZXJzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsK0JBQUE7QUNDRDs7QURFQTtFQUNDLDhCQUFBO0FDQ0Q7O0FERUE7RUFDQywrQkFBQTtBQ0NEOztBREVBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLHFCQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtBQ0NKOztBREVBO0VBQ0M7SUFDQyx3QkFBQTtFQ0NBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hZG1pbi9tYW5hZ2Utb2ZmZXJzL21hbmFnZS1vZmZlcnMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmVyaWZpZWQge1xuXHRjb2xvcjogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpO1xufVxuXG4ubm9udmVyaWZpZWQge1xuXHRjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG59XG5cbi5yZXZpc2Uge1xuXHRjb2xvcjogdmFyKC0taW9uLWNvbG9yLXdhcm5pbmcpO1xufVxuXG4uY3Vyc29yLXBvaW50ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnNjcm9sbCB7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgb3ZlcmZsb3ctd3JhcDogbm9ybWFsO1xufVxuXG4uYm9sZCB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkge1xuXHQuaGlkZS1zbSB7XG5cdFx0ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuXHR9XG59XG4iLCIudmVyaWZpZWQge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpO1xufVxuXG4ubm9udmVyaWZpZWQge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG59XG5cbi5yZXZpc2Uge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXdhcm5pbmcpO1xufVxuXG4uY3Vyc29yLXBvaW50ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5zY3JvbGwge1xuICBvdmVyZmxvdzogYXV0bztcbiAgb3ZlcmZsb3ctd3JhcDogbm9ybWFsO1xufVxuXG4uYm9sZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcbiAgLmhpZGUtc20ge1xuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgfVxufSJdfQ== */\"","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {first} from 'rxjs/operators';\nimport {ProductService} from 'src/app/core/services/productService/product.service';\nimport {ProgressIndicatorService} from 'src/app/core/services/progressIndicatorService/progress-indicator.service';\nimport {isUndefined} from 'util';\nimport {NotificationService} from '../../../core/services/notificationService/notification.service';\nimport { FilterAndSearchService } from 'src/app/core/services/filterAndSearchService/filter-and-search.service';\nimport { isDefined } from '@angular/compiler/src/util';\n\n@Component({\n    selector: 'app-manage-offers',\n    templateUrl: './manage-offers.component.html',\n    styleUrls: ['./manage-offers.component.scss'],\n})\nexport class ManageOffersComponent implements OnInit {\n    sorting: {name: 0 | '+' | '-', seller: 0 | '+' | '-', status: 0 | '+' | '-'} = {name: 0, seller: 0, status: 0}\n    listOfOffers;\n    private listOfAllOffers;\n    private showVerified = true;\n    private filterOptions: {showVerified: boolean, showRevising: boolean} = { showVerified: true, showRevising: true};\n\n    constructor(\n        private productService: ProductService,\n        private progressIndicatorService: ProgressIndicatorService,\n        private notificationService: NotificationService,\n        private filterService: FilterAndSearchService) {\n    }\n\n    ngOnInit() {\n        this.listOfAllOffers = this.getAllProducts();\n    }\n\n    getAllProducts() {\n        return new Promise((resolve, reject) => {\n            this.productService.getAllProducts().subscribe(\n                data => {\n                    resolve(data);\n                },\n                err => {\n                    this.progressIndicatorService.presentToast('Products could not be loaded', 'danger');\n                    reject(err);\n                }\n            );\n        });\n    }\n\n    deleteOffer(productId: string, productName: string, sellerId: string) {\n        this.progressIndicatorService.presentLoading('Loading...');\n        this.productService.deleteProduct(productId).pipe(first()).subscribe(\n            data => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Product deleted');\n                this.notifySeller(productId, productName, sellerId, 'delete');\n                this.updateProducts();\n            },\n            err => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Product could not be deleted', 'danger');\n                console.log(err);\n            },\n        );\n    }\n\n    verifyOffer(productId: string, productName: string, sellerId: string) {\n        this.progressIndicatorService.presentLoading('Loading...');\n        this.productService.verifyProduct(productId).subscribe(\n            data => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Product verified');\n                this.updateProducts();\n            },\n            err => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Product could not be verified', 'danger');\n                console.log(err);\n            }\n        );\n    }\n\n    reviseOffer(productId: string, productName: string, sellerId: string) {\n        this.progressIndicatorService.presentLoading('Loading...');\n        this.productService.reviseProduct(productId).subscribe(\n            data => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Revision initialized');\n                this.updateProducts();\n            },\n            err => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('Revision could not be initialized', 'danger');\n                console.log(err);\n            }\n        );\n    }\n\n    updateProducts() {\n        this.progressIndicatorService.presentLoading('Updating Products...');\n        this.getAllProducts().then(data => {\n            this.listOfAllOffers = data;\n            this.filterProducts();\n            this.progressIndicatorService.dismissLoadingIndicator();\n        }, err => {\n            this.progressIndicatorService.dismissLoadingIndicator();\n            console.log(err);\n        });\n    }\n\n    onToggleShowVerified(event) {\n        this.filterOptions.showVerified = event.target.checked;\n        this.filterProducts();\n    }\n\n    onToggleShowRevise(event) {\n        this.filterOptions.showRevising = event.target.checked;\n        this.filterProducts();\n    }\n\n    filterProducts() {\n        let productsToShow = this.listOfAllOffers;\n        if (this.filterOptions.showRevising === false) {\n            productsToShow = this.filterService.filter(productsToShow, '=;toRevise;0');\n        }\n        if (this.filterOptions.showVerified === false) {\n            productsToShow = this.filterService.filter(productsToShow, '=;verified;0');\n        }\n        this.listOfOffers = productsToShow;\n    }\n\n    notifySeller(productId: string, productName: string, sellerId: string, notificationType: string) {\n        let link = '/home';\n        let message = '';\n\n        if (notificationType === 'delete') {\n            message = `Your product ${productName} has been deleted`;\n            link = '/my-products';\n        }\n\n        // remove this once backend removed text or message\n        const text = message;\n        // create the body for the backend request\n        const body = `{\"text\":\"${text}\", \"message\":\"${message}\", \"userId\":\"${sellerId}\", \"link\":\"${link}\"}`;\n        setTimeout(() => {\n            this.notificationService.notifySingleUser(sellerId, body).subscribe(\n                data => {\n                }, err => {\n                    this.progressIndicatorService.presentToast('Error while trying to notify seller', 'danger');\n                    console.log(err);\n                }\n            );\n        }, 3750);\n    }\n\n    onSortChange(evt) {\n        const fieldNameMap  = new Map<string, string>([\n            ['name', 'name'],\n            ['seller.name', 'seller'],\n            ['status', 'status']\n        ]);\n        this.sorting = {name: 0, seller: 0, status: 0};\n        const sortString: string = evt.target.value;\n        const key = fieldNameMap.get(sortString.substring(1));\n        if (isDefined(key)) {this.sorting[key] = sortString.charAt(0); }\n        if (sortString.endsWith('status')) {\n            const sortDirection = this.sorting.status;\n            this.filterService.sort(this.listOfOffers, `${sortDirection}verified`, `${sortDirection}toRevise`, '-date');\n        } else {\n            this.filterService.sort(this.listOfOffers, (evt as any).target.value, '-date');\n        }\n    }\n\n    getDateString(stringRepresentation: string): string {\n        return new Date(stringRepresentation).toUTCString();\n    }\n}\n","module.exports = \".admin-user {\\n  --background: var(--ion-color-light);\\n}\\n\\n.cursor-pointer {\\n  cursor: pointer;\\n}\\n\\n@media (max-width: 576px) {\\n  .hide-sm {\\n    display: none !important;\\n  }\\n}\\n\\n.adminBadge {\\n  weight: 30px;\\n  height: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL2FkbWluL21hbmFnZS11c2Vycy9tYW5hZ2UtdXNlcnMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2FkbWluL21hbmFnZS11c2Vycy9tYW5hZ2UtdXNlcnMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0M7SUFDQyx3QkFBQTtFQ0NBO0FBQ0Y7O0FERUE7RUFDQyxZQUFBO0VBQ0EsWUFBQTtBQ0FEIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRtaW4vbWFuYWdlLXVzZXJzL21hbmFnZS11c2Vycy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hZG1pbi11c2VyIHtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG59XG5cbi5jdXJzb3ItcG9pbnRlciB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcblx0LmhpZGUtc20ge1xuXHRcdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcblx0fVxufVxuXG4uYWRtaW5CYWRnZSB7XG5cdHdlaWdodDogMzBweDtcblx0aGVpZ2h0OiAzMHB4O1xufVxuIiwiLmFkbWluLXVzZXIge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG59XG5cbi5jdXJzb3ItcG9pbnRlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDU3NnB4KSB7XG4gIC5oaWRlLXNtIHtcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cbn1cbi5hZG1pbkJhZGdlIHtcbiAgd2VpZ2h0OiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG59Il19 */\"","import {\n\tComponent,\n    OnInit\n} from '@angular/core';\nimport {\n    UserService\n} from 'src/app/core/services/userService/user.service';\nimport {\n    ProgressIndicatorService\n} from 'src/app/core/services/progressIndicatorService/progress-indicator.service';\nimport {\n    isUndefined\n} from 'util';\n\n@Component({\n    selector: 'app-manage-users',\n    templateUrl: './manage-users.component.html',\n    styleUrls: ['./manage-users.component.scss'],\n})\nexport class ManageUsersComponent implements OnInit {\n\n    constructor(private userService: UserService, private progressIndicatorService: ProgressIndicatorService) {\n    }\n\n    private userList = [];\n    valuesToHide = ['password', 'openDetail'];\n\n    ngOnInit() {\n        this.getAllUsers();\n    }\n\n    getAllUsers() {\n        this.progressIndicatorService.presentLoading('Loading...');\n        this.userService.getAllUsers().subscribe(\n            data => {\n                data.sort((a, b) => {\n                    return (b as any).admin - (a as any).admin;\n                });\n                this.userList = data;\n                this.progressIndicatorService.dismissLoadingIndicator();\n            },\n            err => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast('User could not be updated', 'danger');\n                console.log(err);\n            }\n        );\n    }\n\n    isUndefined(obj: any) {\n        return isUndefined(obj);\n    }\n\n    deleteUser(id: String) {\n        this.progressIndicatorService.presentLoading(\"Deleting User!\");\n        this.userService.deleteUser(id).subscribe(\n            data => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast(\"Deleted User\");\n                this.getAllUsers();\n            },\n            err => {\n                this.progressIndicatorService.dismissLoadingIndicator();\n                this.progressIndicatorService.presentToast(\"Deleting failed\", 'danger');\n                console.log(err);\n            }\n        );\n    }\n}\n"],"sourceRoot":""}