{"version":3,"sources":["./src/app/pages/add-products/add-products.page.html","./src/app/pages/add-products/map-modal/map-modal.component.html","./src/app/pages/add-products/map-picker/map-picker.component.html","./src/app/pages/add-products/add-products.module.ts","./src/app/pages/add-products/add-products.page.scss","./src/app/pages/add-products/add-products.page.ts","./src/app/pages/add-products/map-modal/map-modal.component.scss","./src/app/pages/add-products/map-modal/map-modal.component.ts","./src/app/pages/add-products/map-picker/map-picker.component.scss","./src/app/pages/add-products/map-picker/map-picker.component.ts"],"names":[],"mappings":"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","file":"pages-add-products-add-products-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <app-header></app-header>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <ion-grid>\\n        <form [formGroup]=\\\"productForm\\\" (ngSubmit)=\\\"onSubmitAddProduct()\\\">\\n            <ion-row>\\n                <ion-col size=\\\"12\\\" size-md=\\\"6\\\"  offset-md=\\\"3\\\">\\n                    <ion-title>Add a product</ion-title>\\n                    <ion-card>\\n                        <ion-card class=\\\"formElement\\\">\\n                            <app-input-form [inputForm]=\\\"productForm\\\" [givenName]=\\\"'name'\\\" [text]=\\\"'Title*'\\\"\\n                                [validationMessages]=\\\"validationMessages.name\\\" [type]=\\\"'text'\\\" [inputMode]=\\\"'text'\\\">\\n                            </app-input-form>\\n                        </ion-card>\\n                        <ion-item>\\n                            <app-image-picker #imagePicker class=\\\"picker\\\" (imagePick)=\\\"onImagePicked($event)\\\"></app-image-picker>\\n                        </ion-item>\\n                        <ion-card class=\\\"formElement\\\">\\n                            <app-input-form [inputForm]=\\\"productForm\\\" [givenName]=\\\"'price'\\\" [text]=\\\"'Price (in CHF)*'\\\"\\n                                [validationMessages]=\\\"validationMessages.price\\\" [type]=\\\"'number'\\\"\\n                                [inputMode]=\\\"'number'\\\">\\n                            </app-input-form>\\n                        </ion-card>\\n                        <ion-item>\\n                            <app-map-picker #mapPicker class=\\\"picker\\\" (locationPick)=\\\"onLocationPicked($event)\\\"></app-map-picker>\\n                        </ion-item>\\n                        <ion-card class=\\\"formElement\\\">\\n                            <app-input-form id=\\\"locationInput\\\"\\n                                    [inputForm]=\\\"productForm\\\" [givenName]=\\\"'location'\\\" [text]=\\\"'Location: State, City*'\\\"\\n                                    [validationMessages]=\\\"validationMessages.location\\\"\\n                                    [type]=\\\"'text'\\\" [inputMode]=\\\"'text'\\\">\\n                            </app-input-form>\\n                        </ion-card>\\n                        <ion-card>\\n                            <ion-list>\\n                                <ion-item>\\n                                    <ion-label>Category*</ion-label>\\n                                    <ion-select formControlName=\\\"category\\\"\\n                                        (ionChange)=\\\"displayChosenSubcategories($event)\\\" placeholder=\\\"Select One\\\"\\n                                        okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\">\\n                                        <ion-select-option [value]=\\\"category.slug\\\" *ngFor=\\\"let category of categories\\\">\\n                                            <ion-label> {{ category.name }}</ion-label>\\n                                        </ion-select-option>\\n                                    </ion-select>\\n                                </ion-item>\\n                            </ion-list>\\n                        </ion-card>\\n                        <ion-card>\\n                            <ion-list>\\n                                <ion-item>\\n                                    <ion-label>Subcategory*</ion-label>\\n                                    <ion-select formControlName=\\\"categorySlug\\\" placeholder=\\\"Select One\\\" okText=\\\"Okay\\\"\\n                                        cancelText=\\\"Dismiss\\\">\\n                                        <ion-select-option [value]=\\\"subcategory.slug\\\"\\n                                            *ngFor=\\\"let subcategory of chosenSubcategories\\\">\\n                                            <ion-label> {{ subcategory.name }}</ion-label>\\n                                        </ion-select-option>\\n                                    </ion-select>\\n                                </ion-item>\\n                            </ion-list>\\n                        </ion-card>\\n                        <ion-card>\\n                            <ion-item>\\n                                <ion-label position=\\\"floating\\\">Description*</ion-label>\\n                                <ion-textarea formControlName=\\\"description\\\"></ion-textarea>\\n                            </ion-item>\\n                        </ion-card>\\n                        <ion-text>*mandatory fields</ion-text>\\n                    </ion-card>\\n                </ion-col>\\n            </ion-row>\\n            <ion-row>\\n                <ion-col size=\\\"12\\\" offset=\\\"0\\\" offset-md=\\\"2\\\" size-md=\\\"8\\\" offset-lg=\\\"3\\\" size-lg=\\\"6\\\">\\n                    <ion-button type=\\\"submit\\\"> Upload product</ion-button>\\n                </ion-col>\\n            </ion-row>\\n        </form>\\n    </ion-grid>\\n</ion-content>\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    Pick Location\\n  </ion-toolbar>\\n  <ion-buttons>\\n    <ion-button (click)=\\\"onCancel()\\\">Cancel</ion-button>\\n  </ion-buttons>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"map\\\" #map></div>\\n</ion-content>\\n\"","module.exports = \"<div class=\\\"picker\\\">\\n  <ion-spinner *ngIf=\\\"isLoading\\\" color=\\\"primary\\\"></ion-spinner>\\n  <ion-img (click)=\\\"onPickLocation()\\\" role=\\\"button\\\" class=\\\"locationImage\\\" [src]=\\\"selectedLocationImage\\\" *ngIf=\\\"selectedLocationImage && !isLoading\\\"></ion-img>\\n  <ion-button fill=\\\"empty\\\" class=\\\"blueButton\\\" (click)=\\\"onPickLocation()\\\" *ngIf=\\\"!selectedLocationImage && !isLoading\\\"><ion-icon name=\\\"pin\\\" slot=\\\"start\\\"></ion-icon>\\n    <ion-label>Select</ion-label></ion-button>\\n</div>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddProductsPage } from './add-products.page';\nimport {HeaderModule} from '../../core/header.module';\nimport {InputFormModule} from '../../shared/input-form.module';\nimport {SharedModule} from '../../shared/shared.module';\nimport {MapPickerComponent} from './map-picker/map-picker.component';\nimport {MapModalComponent} from './map-modal/map-modal.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddProductsPage\n  }\n];\n\n@NgModule({\n  declarations: [AddProductsPage, MapPickerComponent, MapModalComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    HeaderModule,\n    SharedModule,\n    InputFormModule,\n  ],\n  exports: [MapPickerComponent, MapModalComponent],\n  entryComponents: [MapModalComponent]\n})\nexport class AddProductsPageModule {}\n\n\n","module.exports = \".picker {\\n  width: 100%;\\n  height: 40vh;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL2FkZC1wcm9kdWN0cy9hZGQtcHJvZHVjdHMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9hZGQtcHJvZHVjdHMvYWRkLXByb2R1Y3RzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hZGQtcHJvZHVjdHMvYWRkLXByb2R1Y3RzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5waWNrZXJ7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQwdmg7XG59XG4iLCIucGlja2VyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNDB2aDtcbn0iXX0= */\"","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {CategoryService} from '../../core/services/categoryService/category.service';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {ProductService} from '../../core/services/productService/product.service';\nimport {ProgressIndicatorService} from '../../core/services/progressIndicatorService/progress-indicator.service';\nimport {PlaceMap} from './map.model';\nimport { UserService } from 'src/app/core/services/userService/user.service';\nimport { Router } from '@angular/router';\nimport {ImagePickerComponent} from '../../shared/components/image-picker/image-picker.component';\nimport {MapPickerComponent} from './map-picker/map-picker.component';\n\nfunction base64toBlob(base64Data, contentType) {\n    contentType = contentType || '';\n    const sliceSize = 1024;\n    const byteCharacters = atob(base64Data);\n    const bytesLength = byteCharacters.length;\n    const slicesCount = Math.ceil(bytesLength / sliceSize);\n    const byteArrays = new Array(slicesCount);\n\n    for (let sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        const begin = sliceIndex * sliceSize;\n        const end = Math.min(begin + sliceSize, bytesLength);\n\n        const bytes = new Array(end - begin);\n        for (let offset = begin, i = 0; offset < end; ++i, ++offset) {\n            bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n    }\n    return new Blob(byteArrays, {type: contentType});\n}\n\n@Component({\n    selector: 'app-add-products',\n    templateUrl: './add-products.page.html',\n    styleUrls: ['./add-products.page.scss'],\n})\nexport class AddProductsPage implements OnInit {\n    @ViewChild(ImagePickerComponent, {static: false}) imagePicker: ImagePickerComponent;\n    @ViewChild(MapPickerComponent, {static: false}) mapPicker: MapPickerComponent;\n\n    productForm: FormGroup;\n    imageFile;\n    validationMessages = {\n        name: [\n            {type: 'required', message: 'Title is required'},\n            {type: 'text', message: 'Not a valid address'},\n            {type: 'minlength', message: 'Title must be longer than 5 characters'},\n            {type: 'maxlength', message: 'Title must be less than 30 characters'}\n        ],\n        price: [\n            {type: 'required', message: 'Price is required'},\n            {type: 'number', message: 'Not a valid number'},\n            {type: 'min', message: 'Price must be more than 10 CHF'},\n            {type: 'max', message: 'Price must be lower than 1\\'000\\'000 CHF'}\n        ],\n        description: [\n            {type: 'required', message: 'Description is required'},\n            {type: 'maxlength', message: 'Description must me shorter than 10000 characters'}\n        ],\n        location: [\n            {type: 'required', message: 'Location is required'},\n            {type: 'text', message: 'Not a valid location'},\n            {type: 'maxlength', message: 'Location must be less than 30 characters'}\n        ]\n    };\n    message;\n    categories: any = [];\n    chosenSubcategories = [];\n\n    constructor(\n        private categoryService: CategoryService,\n        private productService: ProductService,\n        private progressIndicatorService: ProgressIndicatorService,\n        private formBuilder: FormBuilder,\n        private userService: UserService,\n        private router: Router\n    ) {\n    }\n\n    ionViewWillEnter() {\n        const promise = this.userService.isSeller();\n        promise.then((isSeller) => {\n            if (!isSeller) {\n                this.progressIndicatorService.presentToast('You\\'re missing profile information to add products', 'danger', 'other', true, 'middle')\n                .then(() => this.router.navigate(['/profile']));\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.categoryService.getCategories().subscribe(data => {\n            this.categories = data;\n        });\n        this.productForm = this.formBuilder.group({\n            name: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(30)]],\n            price: ['', [Validators.required, Validators.min(10), Validators.max(1000000)]],\n            location: ['', [Validators.required, Validators.maxLength(256)]],\n            category: ['', [Validators.required]],\n            categorySlug: ['', [Validators.required]],\n            description: ['', [Validators.required, Validators.maxLength(10000)]],\n            map: ['', [Validators.required]]\n        });\n    }\n\n    displayChosenSubcategories(event) {\n        const slug = event.target.value;\n        this.chosenSubcategories = this.categories.filter(cat => cat.slug === slug)[0].subcategories\n            .sort((a, b) => a.name.localeCompare(b.name));\n    }\n\n    onSubmitAddProduct() {\n        if (this.productForm.invalid) {\n            this.progressIndicatorService.presentToast('Form incomplete: Please enter all required information', 'danger');\n          return;\n        }\n        const val = this.productForm.value;\n        this.progressIndicatorService.presentLoading('Adding product...');\n        this.productService.addProduct(val, this.imageFile).subscribe(data => {\n            this.progressIndicatorService.dismissLoadingIndicator();\n            this.productForm.reset();\n            this.progressIndicatorService.presentToast('Product successfully created');\n           // this.imagePicker.resetImage();\n           // this.mapPicker.resetLocation();\n        }, error => {\n            this.progressIndicatorService.dismissLoadingIndicator();\n            console.log(error);\n        });\n    }\n\n    onImagePicked(imageData: string | File) {\n        if (typeof imageData === 'string') {\n            try {\n                this.imageFile = base64toBlob(imageData.replace('data:image/jpeg;base64,', ''), 'image/jpeg');\n            } catch (error) {\n                console.log(error);\n                return;\n            }\n        } else {\n            this.imageFile = imageData;\n        }\n    }\n\n    onLocationPicked(location: PlaceMap) {\n        this.productForm.patchValue({map: location});\n        console.log(document.getElementById('locationInput'));\n        (document.getElementById('locationInput').firstElementChild.children[1] as any).value = location.address;\n    }\n}\n","module.exports = \".map {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  background-color: transparent;\\n  opacity: 0;\\n  -webkit-transition: opacity 150ms ease-in;\\n  transition: opacity 150ms ease-in;\\n}\\n\\n.map.visible {\\n  opacity: 1;\\n}\\n\\nion-toolbar {\\n  padding-left: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL2FkZC1wcm9kdWN0cy9tYXAtbW9kYWwvbWFwLW1vZGFsLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9wYWdlcy9hZGQtcHJvZHVjdHMvbWFwLW1vZGFsL21hcC1tb2RhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSw2QkFBQTtFQUNBLFVBQUE7RUFDQSx5Q0FBQTtFQUFBLGlDQUFBO0FDQ0Y7O0FERUE7RUFDRSxVQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRkLXByb2R1Y3RzL21hcC1tb2RhbC9tYXAtbW9kYWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFwIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAxNTBtcyBlYXNlLWluO1xufVxuXG4ubWFwLnZpc2libGUge1xuICBvcGFjaXR5OiAxO1xufVxuXG5pb24tdG9vbGJhciB7XG4gIHBhZGRpbmctbGVmdDogMjBweDtcbn1cbiIsIi5tYXAge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDE1MG1zIGVhc2UtaW47XG59XG5cbi5tYXAudmlzaWJsZSB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbmlvbi10b29sYmFyIHtcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xufSJdfQ== */\"","import {Component, OnInit, AfterViewInit, ViewChild, ElementRef, Renderer2, OnDestroy, Input} from '@angular/core';\nimport {ModalController} from '@ionic/angular';\nimport { environment } from '../../../../environments/environment';\n\n@Component({\n    selector: 'app-map-modal',\n    templateUrl: './map-modal.component.html',\n    styleUrls: ['./map-modal.component.scss'],\n})\nexport class MapModalComponent implements OnInit, AfterViewInit, OnDestroy {\n    @ViewChild('map', {static: false}) mapElementRef: ElementRef;\n    clickListener: any;\n    googleMaps: any;\n\n    constructor(private modalCtrl: ModalController,\n                private renderer: Renderer2) {\n    }\n\n    ngOnInit() { }\n\n    onCancel() {\n        this.modalCtrl.dismiss();\n    }\n\n    ngAfterViewInit() {\n        this.getGoogleMaps().then(googleMaps => {\n            this.googleMaps = googleMaps;\n            const mapEl = this.mapElementRef.nativeElement;\n            const map = new googleMaps.Map(mapEl, {\n                center: {lat: 46.9505, lng: 7.4381 },\n                zoom: 16\n            });\n            this.googleMaps.event.addListenerOnce(map, 'idle', () => {\n                this.renderer.addClass(mapEl, 'visible');\n            });\n            this.clickListener = map.addListener('click', event => {\n              const selectedCoords = {lat: event.latLng.lat(), lng: event.latLng.lng()};\n              this.modalCtrl.dismiss(selectedCoords);\n            });\n        }).catch(err => {\n            console.log(err);\n        });\n    }\n\n    ngOnDestroy() {\n        this.googleMaps.event.removeListener(this.clickListener);\n    }\n\n    private getGoogleMaps(): Promise<any> {\n        const win = window as any;\n        const googleModule = win.google;\n        if (googleModule && googleModule.maps) {\n            return Promise.resolve(googleModule.maps);\n        }\n        return new Promise((resolve, reject) => {\n            const script = document.createElement('script');\n            script.src = 'https://maps.googleapis.com/maps/api/js?key=' + environment.googleMapsAPIKey;\n            script.async = true;\n            script.defer = true;\n            document.body.appendChild(script);\n            script.onload = () => {\n                const loadedGoogleModule = win.google;\n                if (loadedGoogleModule && loadedGoogleModule.maps) {\n                    resolve(loadedGoogleModule.maps);\n                } else {\n                    reject('Google maps SDK not available');\n                }\n            };\n        });\n    }\n}\n","module.exports = \".locationImage {\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n.picker {\\n  width: 100%;\\n  height: 40vh;\\n  border: 1px solid var(--ion-color-primary);\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL2FkZC1wcm9kdWN0cy9tYXAtcGlja2VyL21hcC1waWNrZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2FkZC1wcm9kdWN0cy9tYXAtcGlja2VyL21hcC1waWNrZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsMENBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRkLXByb2R1Y3RzL21hcC1waWNrZXIvbWFwLXBpY2tlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sb2NhdGlvbkltYWdlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbi5waWNrZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MHZoO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuIiwiLmxvY2F0aW9uSW1hZ2Uge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvYmplY3QtZml0OiBjb3Zlcjtcbn1cblxuLnBpY2tlciB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQwdmg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59Il19 */\"","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {ActionSheetController, AlertController, ModalController} from '@ionic/angular';\nimport {MapModalComponent} from '../map-modal/map-modal.component';\nimport {HttpClient} from '@angular/common/http';\nimport { environment } from '../../../../environments/environment';\nimport {map, switchMap} from 'rxjs/operators';\nimport {PlaceMap, Coordinates} from '../map.model';\nimport {of} from 'rxjs';\nimport { Plugins, Capacitor } from '@capacitor/core';\n\n\n@Component({\n  selector: 'app-map-picker',\n  templateUrl: './map-picker.component.html',\n  styleUrls: ['./map-picker.component.scss'],\n})\nexport class MapPickerComponent implements OnInit {\n  @Output() locationPick = new EventEmitter<PlaceMap>();\n  selectedLocationImage: string;\n  isLoading: boolean;\n  constructor(private modalCtrl: ModalController, private http: HttpClient, private actionSheetCtrl: ActionSheetController, private alertCtrl: AlertController) { }\n\n  ngOnInit() {}\n\n  resetLocation() {\n    this.selectedLocationImage = undefined;\n  }\n\n  onPickLocation() {\n    this.actionSheetCtrl.create({\n      header: 'Please choose', buttons: [\n        {\n          text: 'Auto-Locate', icon: 'locate', handler: () => {\n            this.locateUser();\n          }\n        },\n        {\n          text: 'Pick on map', icon: 'pin', handler: () => {\n            this.openMap();\n          }\n        },\n        {text: 'Cancel', role: 'cancel', icon: 'close'}\n      ]\n    }).then(actionSheetEl => {\n      actionSheetEl.present();\n    });\n  }\n\n    private locateUser() {\n      if (!Capacitor.isPluginAvailable('Geolocation')) {\n        this.showErrorAlert();\n        return;\n      }\n      this.isLoading = true;\n      Plugins.Geolocation.getCurrentPosition().then(geoPosition => {\n        const coordinates: Coordinates = {lat: geoPosition.coords.latitude, lng: geoPosition.coords.longitude};\n        this.createPlace(coordinates.lat, coordinates.lng);\n        this.isLoading = false;\n      }).catch(err => {\n        this.isLoading = false;\n        this.showErrorAlert();\n      });\n    }\n\n    private showErrorAlert() {\n      this.alertCtrl.create({\n        header: 'Could not fetch location',\n        message: 'Please use map to pick location',\n        buttons: ['Okay']\n      }).then(alertEl => alertEl.present());\n    }\n\n    private openMap() {\n      this.modalCtrl.create({component: MapModalComponent}).then(modalEl => {\n        modalEl.onDidDismiss().then(modalData => {\n          if (!modalData.data) {\n            return;\n          }\n          const coordinates: Coordinates = {\n            lat: modalData.data.lat,\n            lng: modalData.data.lng,\n          };\n          this.createPlace(coordinates.lat, coordinates.lng);\n        });\n        modalEl.present();\n      });\n  }\n\n  private createPlace(lat: number, lng: number) {\n    const pickedLocation: PlaceMap = {\n      lat: lat,\n      lng: lng,\n      address: null,\n      staticMapImageUrl: null\n    };\n    this.isLoading = true;\n    this.getAddress(lat, lng).pipe(switchMap(address => {\n      pickedLocation.address = address;\n      return of(this.getMapImage(pickedLocation.lat, pickedLocation.lng, 14));\n    })).subscribe(staticMapImageUrl => {\n      pickedLocation.staticMapImageUrl = staticMapImageUrl;\n      this.selectedLocationImage = staticMapImageUrl;\n      this.isLoading = false;\n      this.locationPick.emit(pickedLocation);\n    });\n  }\n\n\n  private getAddress(lat: number, lng: number) {\n    return this.http.get<any>(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=${environment.googleMapsAPIKey}`\n    ).pipe(map(geoData => {\n      if (!geoData || !geoData.results || geoData.results.length === 0) {\n        return null;\n      }\n      return geoData.results[0].formatted_address;\n    }));\n  }\n\n  private getMapImage(lat: number, lng: number, zoom: number) {\n    return `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lng}&zoom=${zoom}\n    &size=600x300&maptype=roadmap&markers=color:red%7Clabel:Place%7C${lat},${lng}&key=${environment.googleMapsAPIKey}`;\n  }\n}\n"],"sourceRoot":""}