{"version":3,"sources":["./src/app/pages/my-orders/my-orders.page.html","./src/app/pages/my-orders/my-orders.module.ts","./src/app/pages/my-orders/my-orders.page.scss","./src/app/pages/my-orders/my-orders.page.ts"],"names":[],"mappings":"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","file":"pages-my-orders-my-orders-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <app-header></app-header>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-content>\\n      <ion-grid>\\n          <ion-row>\\n              <ion-col>\\n                  <ion-list>\\n                      <ion-grid>\\n                        <ion-row>\\n                          <ion-col style=\\\"display:justify; align-content: center; margin:2%; justify-content: center; font-size:1.5rem; border-bottom:1px solid grey;\\\">\\n                            <b>My orders</b>\\n                          </ion-col>\\n                        </ion-row>\\n                        <!--\\n                          <ion-row class = \\\"ordersTitleBar\\\">\\n                              <ion-col class=\\\"ordersTitle\\\" size=\\\"2\\\" size-md=\\\"2\\\" offset-md=\\\"1\\\" size-lg=\\\"2\\\">\\n                                  Product Name\\n                              </ion-col>\\n                              <ion-col class=\\\"ordersTitle\\\" size=\\\"2\\\" size-md=\\\"2\\\" size-lg=\\\"2\\\">\\n                                  Seller Name\\n                              </ion-col>\\n                              <ion-col class=\\\"ordersTitle\\\" size=\\\"2\\\" size-md=\\\"2\\\" size-lg=\\\"2\\\">\\n                                  From\\n                              </ion-col>\\n                              <ion-col class=\\\"ordersTitle\\\" size=\\\"2\\\" size-md=\\\"2\\\" size-lg=\\\"2\\\">\\n                                  To\\n                              </ion-col>\\n                              <ion-col class=\\\"ordersTitle\\\" size=\\\"2\\\" size-md=\\\"2\\\" size-lg=\\\"2\\\">\\n                                  Status\\n                              </ion-col>\\n                          </ion-row>-->\\n                          <ion-row *ngIf=\\\"isLoading\\\">\\n                              Loading orders...\\n                          </ion-row>\\n                          <ion-row *ngFor=\\\"let order of orders\\\" class=\\\"orderContainer\\\" class=\\\"ion-hide-sm-down\\\">\\n                              <ion-item-sliding button [routerLink]=\\\"['/order-details', order._id]\\\">\\n                                  <ion-item class=\\\"profileProductsItem ion-no-padding \\\" (click)=\\\"order.openDetails = !order.openDetails\\\">\\n                                      <ion-col size=\\\"1\\\" class=\\\"ion-hide-sm-down\\\">\\n                                          <ion-avatar>\\n                                              <img *ngIf=\\\"order.product.image\\\" src=\\\"{{ order.product.image }}\\\">\\n                                          </ion-avatar>\\n                                      </ion-col>\\n                                      <ion-col size=\\\"11\\\">\\n                                          <ion-row>\\n                                              <ion-col size=\\\"2\\\" style=\\\"font-size:20px;\\\" >\\n                                                  <b>{{ order.product.name }}</b>\\n                                              </ion-col>\\n                                              \\n                                          </ion-row>\\n                                          <ion-row>\\n                                              <ion-col size=\\\"2\\\" size-md=\\\"2\\\" size-lg=\\\"2\\\" >\\n                                                  by {{ order.seller.name }} | <b>{{ order.status }}</b>\\n                                                </ion-col> \\n                                          </ion-row> \\n                                      </ion-col>\\n                                  </ion-item>\\n                                  <ion-item-options side=\\\"end\\\" *ngIf=\\\"order.status != 'accepted'\\\">\\n                                      <ion-item-option color=\\\"success\\\" (click)=\\\"acceptOrder(order._id)\\\">\\n                                          Delete\\n                                      </ion-item-option>\\n                                  </ion-item-options>\\n                              </ion-item-sliding>\\n                          </ion-row>\\n\\n                          <!-- Mobile version -->\\n                          <ion-row *ngFor=\\\"let order of orders\\\" class=\\\"orderContainer\\\" class=\\\"ion-hide-md-up\\\">\\n                              <ion-item-sliding button [routerLink]=\\\"['/order-details', order._id]\\\">\\n                                  <ion-item class=\\\"profileProductsItem ion-no-padding \\\" (click)=\\\"order.openDetails = !order.openDetails\\\">\\n                                      <ion-col size=\\\"1\\\" >\\n                                          <ion-avatar style=\\\"width:auto; height:auto;\\\">\\n                                              <img *ngIf=\\\"order.product.image\\\" style=\\\"width:auto; height:auto;\\\" src=\\\"{{ order.product.image }}\\\">\\n                                          </ion-avatar>\\n                                      </ion-col>\\n                                      <ion-col size=\\\"11\\\">\\n                                          <ion-row>\\n                                              <ion-col style=\\\"font-size:20px;\\\" >\\n                                                  <b>{{ order.product.name }}</b>\\n                                              </ion-col>\\n                                              \\n                                          </ion-row>\\n                                          <ion-row>\\n                                              <ion-col>\\n                                                  Seller: <b>{{ order.seller.name }}</b>\\n                                                </ion-col> \\n                                          </ion-row> \\n                                          <ion-row>\\n                                            <ion-col>\\n                                              Status: <b>{{ order.status }}</b>\\n                                            </ion-col>\\n                                          </ion-row>\\n                                          <ion-row>\\n                                              <ion-col>\\n                                                Placed on: <b>{{ order.orderDate | date : \\\"dd.MM.y hh:mm\\\" }}</b>\\n                                              </ion-col>\\n                                            </ion-row>\\n                                      </ion-col>\\n                                  </ion-item>\\n                                  <ion-item-options side=\\\"end\\\" *ngIf=\\\"order.status != 'accepted'\\\">\\n                                      <ion-item-option color=\\\"success\\\" (click)=\\\"acceptOrder(order._id)\\\">\\n                                          Delete\\n                                      </ion-item-option>\\n                                  </ion-item-options>\\n                              </ion-item-sliding>\\n                          </ion-row>\\n                      </ion-grid>\\n                  </ion-list>\\n\\n              </ion-col>\\n          </ion-row>\\n      </ion-grid>\\n  </ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyOrdersPage } from './my-orders.page';\nimport {HeaderModule} from '../../core/header.module';\nimport {SharedModule} from '../../shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyOrdersPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    HeaderModule,\n    SharedModule\n  ],\n  declarations: [MyOrdersPage]\n})\nexport class MyOrdersPageModule {}\n","module.exports = \".orderContainer:hover {\\n  background-color: var(--ion-color-secondary);\\n}\\n\\n.ordersTitleBar {\\n  margin-top: 5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL215LW9yZGVycy9teS1vcmRlcnMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9teS1vcmRlcnMvbXktb3JkZXJzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDRDQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbXktb3JkZXJzL215LW9yZGVycy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIub3JkZXJDb250YWluZXI6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG59XG5cbi5vcmRlcnNUaXRsZUJhciB7XG4gICAgbWFyZ2luLXRvcDo1cmVtO1xufSIsIi5vcmRlckNvbnRhaW5lcjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xufVxuXG4ub3JkZXJzVGl0bGVCYXIge1xuICBtYXJnaW4tdG9wOiA1cmVtO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport {\n  OrderService\n} from '../../core/services/orderService/order.service';\nimport {\n  AuthService\n} from '../../core/services/authService/auth.service';\nimport {\n  ProgressIndicatorService\n} from '../../core/services/progressIndicatorService/progress-indicator.service';\n\n\n@Component({\n  selector: 'app-my-orders',\n  templateUrl: './my-orders.page.html',\n  styleUrls: ['./my-orders.page.scss'],\n})\nexport class MyOrdersPage implements OnInit {\n  orders;\n  private userId;\n  private loading = true;\n\n  constructor(\n    private orderService: OrderService,\n    private progressIndicatorService: ProgressIndicatorService,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit() {\n    this.loading = true;\n    this.getOrders();\n  }\n\n  acceptOrder(orderId: string) {\n    this.orderService.accept(orderId).subscribe(data => {\n      this.progressIndicatorService.presentToast('Product successfully deleted');\n      this.reloadProducts();\n    }, err => {\n      console.log(err);\n      this.progressIndicatorService.presentToast('Orders could not be deleted', 'danger');\n    });\n  }\n\n  rejectOrder(orderId: string) {\n    this.orderService.reject(orderId).subscribe(data => {\n      this.progressIndicatorService.presentToast('Orders successfully deleted');\n      this.reloadProducts();\n    }, err => {\n      console.log(err);\n      this.progressIndicatorService.presentToast('Orders could not be deleted', 'danger');\n    });\n  }\n  ngOnDestroy(): void {\n    this.getOrders();\n  }\n\n  getOrders() {\n    this.userId = this.authService.getId();\n    this.orderService.getBuyerOrders(this.userId).subscribe(data => {\n      this.orders = data.map(doc => {\n        return Object.assign(doc, {\n          openDetails: false\n        });\n      });\n      this.loading = false;\n    }, err => {\n      console.log(err);\n      this.progressIndicatorService.presentToast('Orders could not be updated', 'danger');\n    });\n  }\n\n  reloadProducts() {\n    this.loading = true;\n    this.getOrders();\n  }\n\n  get isLoading() {\n    return this.loading;\n  }\n\n}\n"],"sourceRoot":""}