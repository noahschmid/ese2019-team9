{"version":3,"sources":["./src/app/pages/product-details/product-details.page.html","./src/app/pages/product-details/product-review/product-review.component.html","./src/app/pages/product-details/product-details.module.ts","./src/app/pages/product-details/product-details.page.scss","./src/app/pages/product-details/product-details.page.ts","./src/app/pages/product-details/product-review/product-review.component.scss","./src/app/pages/product-details/product-review/product-review.component.ts"],"names":[],"mappings":"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","file":"pages-product-details-product-details-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<app-header></app-header>\\n\\t</ion-toolbar>\\n</ion-header>\\n<ion-content>\\n\\t<ion-title *ngIf=\\\"!product && isLoading\\\" class=\\\"statusMessage\\\">\\n\\t\\t... Loading ...\\n\\t</ion-title>\\n\\t<ion-title *ngIf=\\\"!product && !isLoading\\\" class=\\\"statusMessage\\\">\\n\\t\\tSorry, this product doesn't exist!\\n\\t</ion-title>\\n\\t<ion-grid *ngIf=\\\"product\\\">\\n\\t\\t<ion-row>\\n\\t\\t\\t<ion-col class=\\\"product-image-container\\\" size=\\\"12\\\" size-md=\\\"6\\\">\\n\\t\\t\\t\\t<ion-thumbnail class=\\\"product-image\\\"><ion-img [src]=\\\"product.image || 'https://lorempixel.com/300/300/cats/'\\\"></ion-img></ion-thumbnail>\\n\\t\\t\\t</ion-col>\\n\\t\\t\\t<ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\n\\t\\t\\t\\t<ion-list lines=\\\"none\\\">\\n\\t\\t\\t\\t\\t<ion-item class=\\\"ion-text-capitalize product-title\\\">{{ product.name }}</ion-item>\\n\\t\\t\\t\\t\\t<ion-item>Price: <span slot=\\\"end\\\">{{ product.price || 'not specified'}}</span></ion-item>\\n\\t\\t\\t\\t\\t<ion-item>Category: <span slot=\\\"end\\\">{{ product.category.name }}</span></ion-item>\\n\\t\\t\\t\\t\\t<ion-item>Seller: <span slot=\\\"end\\\">{{ product.seller.name }}</span></ion-item>\\n\\t\\t\\t\\t\\t<ion-item>Location: <span slot=\\\"end\\\">{{ product.location || 'nowhere'}}</span></ion-item>\\n\\t\\t\\t\\t\\t<ion-button fill=\\\"empty\\\" class=\\\"blueButton\\\" (click) = \\\"onClickBuy();\\\" *ngIf=\\\"!orderingDetails && loggedIn && product.seller._id != authService.getId()\\\">Order now</ion-button>\\n\\t\\t\\t\\t</ion-list>\\n\\t\\t\\t\\t<ion-card *ngIf=\\\"orderingDetails\\\">\\n\\t\\t\\t\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t\\t\\t\\t<ion-card-title>Order this product</ion-card-title>\\n\\t\\t\\t\\t\\t\\t</ion-card-header>\\n\\t\\t\\t\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t\\t\\t\\t\\t<form [formGroup]=\\\"orderForm\\\" (ngSubmit)=\\\"onOrder()\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-input-form\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[inputForm]=\\\"orderForm\\\" [givenName]=\\\"'startDate'\\\" [text]=\\\"'From*'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationMessages]=\\\"validationMessages.fromDate\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[type]=\\\"'text'\\\" [inputMode]=\\\"'text'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-input-form>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-input-form\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[inputForm]=\\\"orderForm\\\" [givenName]=\\\"'endDate'\\\" [text]=\\\"'To*'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationMessages]=\\\"validationMessages.toDate\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[type]=\\\"'text'\\\" [inputMode]=\\\"'text'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-input-form>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<app-input-form\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[inputForm]=\\\"orderForm\\\" [givenName]=\\\"'description'\\\" [text]=\\\"'Description*'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[validationMessages]=\\\"validationMessages.description\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[type]=\\\"'text'\\\" [inputMode]=\\\"'text'\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</app-input-form>\\n\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-button class=\\\"blueButton\\\" fill=\\\"empty\\\" type=\\\"submit\\\"> Submit </ion-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-button class=\\\"greyButton\\\" fill=\\\"empty\\\" color=\\\"danger\\\" (click) = \\\"onClickBuy();\\\" *ngIf=\\\"orderingDetails\\\">Cancel</ion-button>\\n\\t\\t\\t\\t\\t\\t</ion-card-content>\\n\\t\\t\\t\\t\\t</ion-card>\\n\\t\\t\\t</ion-col>\\n\\t\\t</ion-row>\\n\\t\\t<ion-row>\\n\\t\\t\\t<ion-col size=\\\"12\\\" size-md=\\\"6\\\" >\\n\\t\\t\\t\\t<span class=\\\"product-title\\\">Description</span><br/>\\n\\t\\t\\t\\t<ng-container *ngIf=\\\"product.description\\\"> {{ product.description }} </ng-container>\\n\\t\\t\\t\\t<ng-container *ngIf=\\\"!product.description\\\"> This product does not have a description</ng-container>\\n\\t\\t\\t</ion-col>\\n\\t\\t\\t<ion-col size=\\\"12\\\" size-md=\\\"6\\\">\\n\\t\\t\\t\\t<span class=\\\"product-title\\\">Reviews</span>\\n\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t<p *ngIf=\\\"product.reviews.length == 0\\\"> This product has no reviews yet. </p>\\n\\t\\t\\t\\t<span *ngFor=\\\"let review of product.reviews\\\">\\n\\t\\t\\t\\t\\t<app-product-review [review]=\\\"review\\\"></app-product-review>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</ion-col>\\n\\t\\t</ion-row>\\n\\t</ion-grid>\\n</ion-content>\"","module.exports = \"<ion-card *ngIf=\\\"user\\\" >\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n       Name: {{ user.name }}\\n      </ion-col>\\n      <ion-col>\\n        <app-rating class=\\\"ion-float-end\\\" [rating]=\\\"review.rating\\\"></app-rating>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col *ngIf=\\\"review.comment\\\">\\n        <ng-container *ngIf=\\\"review.comment\\\"> {{ review.comment }}</ng-container>\\n        <ng-container *ngIf=\\\"!(review.comment)\\\"> The review does not have a comment.</ng-container>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-card>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductDetailsPage } from './product-details.page';\nimport { HeaderModule } from 'src/app/core/header.module';\nimport {ProductReviewComponent} from \"./product-review/product-review.component\";\nimport {SharedModule} from \"../../shared/shared.module\";\nimport {InputFormModule} from '../../shared/input-form.module';\n\nconst routes: Routes = [\n  {  path: '',  component: ProductDetailsPage },\n  {  path: ':productId', component: ProductDetailsPage }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        HeaderModule,\n        RouterModule.forChild(routes),\n        SharedModule,\n        InputFormModule\n    ],\n    declarations: [ProductDetailsPage, ProductReviewComponent]\n})\nexport class ProductDetailsPageModule {}\n","module.exports = \".product-title {\\n  font-weight: bold;\\n}\\n\\n:host ion-thumbnail {\\n  --size: 300px;\\n}\\n\\n:host ion-item {\\n  --padding-bottom: 20px;\\n  --min-height: 0px;\\n}\\n\\n.rating {\\n  cursor: pointer;\\n  margin-right: 5px;\\n}\\n\\n.statusMessage {\\n  text-align: center;\\n  margin-top: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbGl2aWVyc3RhZWhsaS9Eb2N1bWVudHMvVW5pQmVybi9TZW1lc3RlcjMvSW5mb3JtYXRpay9FU0UvZXNlMjAxOS10ZWFtOS9mcm9udGVuZC9zcmMvYXBwL3BhZ2VzL3Byb2R1Y3QtZGV0YWlscy9wcm9kdWN0LWRldGFpbHMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9wcm9kdWN0LWRldGFpbHMvcHJvZHVjdC1kZXRhaWxzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0FDQ0o7O0FERUE7RUFDSSxzQkFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFRTtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtBQ0NOIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcHJvZHVjdC1kZXRhaWxzL3Byb2R1Y3QtZGV0YWlscy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZHVjdC10aXRsZSB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbjpob3N0IGlvbi10aHVtYm5haWwge1xuICAgIC0tc2l6ZTogMzAwcHg7XG59XG5cbjpob3N0IGlvbi1pdGVtIHtcbiAgICAtLXBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgIC0tbWluLWhlaWdodDogMHB4O1xufVxuXG4ucmF0aW5nIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIH1cblxuICAuc3RhdHVzTWVzc2FnZSB7XG4gICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICAgIG1hcmdpbi10b3A6MTAlO1xuICB9IiwiLnByb2R1Y3QtdGl0bGUge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuOmhvc3QgaW9uLXRodW1ibmFpbCB7XG4gIC0tc2l6ZTogMzAwcHg7XG59XG5cbjpob3N0IGlvbi1pdGVtIHtcbiAgLS1wYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgLS1taW4taGVpZ2h0OiAwcHg7XG59XG5cbi5yYXRpbmcge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uc3RhdHVzTWVzc2FnZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMTAlO1xufSJdfQ== */\"","import {\n\tComponent,\n\tOnInit\n} from '@angular/core';\n\nimport {\n\tActivatedRoute,\n\tRouter\n} from '@angular/router';\n\nimport {\n\tProductService\n} from 'src/app/core/services/productService/product.service';\n\nimport {\n\tfirst\n} from 'rxjs/operators';\n\nimport {\n\tCategoryService\n} from 'src/app/core/services/categoryService/category.service';\n\nimport {\n\tOrderService\n} from 'src/app/core/services/orderService/order.service';\n\nimport {\n\tProgressIndicatorService\n} from '../../core/services/progressIndicatorService/progress-indicator.service';\n\nimport {\n\tFormBuilder,\n\tFormGroup,\n\tValidators\n} from '@angular/forms';\n\nimport {\n\tAuthService\n} from 'src/app/core/services/authService/auth.service';\n\n@Component({\n\tselector: 'app-product-details',\n\ttemplateUrl: './product-details.page.html',\n\tstyleUrls: ['./product-details.page.scss']\n})\nexport class ProductDetailsPage implements OnInit {\n\torderForm: FormGroup;\n\treviewForm: FormGroup;\n\n\tprivate productId;\n\tprivate productInformation;\n\tprivate showOrderingDetails = false;\n\tprivate isLoggedIn = false;\n\tprivate filledStars = 5;\n\tprivate rating = 5;\n\n\tisLoading = true;\n\t_hasBought = false;\n\n\tvalidationMessages = {\n\t\tstartDate: [{\n\t\t\t\ttype: 'required',\n\t\t\t\tmessage: 'Start date is required'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'text',\n\t\t\t\tmessage: 'Not a valid address'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'minlength',\n\t\t\t\tmessage: 'Title must be longer than 5 characters'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'maxlength',\n\t\t\t\tmessage: 'Title must be less than 30 characters'\n\t\t\t}\n\t\t],\n\t\tendDate: [{\n\t\t\t\ttype: 'required',\n\t\t\t\tmessage: 'End date is required'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'number',\n\t\t\t\tmessage: 'Not a valid number'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'minlength',\n\t\t\t\tmessage: 'Price must be more than 10 CHF'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'maxlength',\n\t\t\t\tmessage: 'Price must be lower than 1000000 CHF'\n\t\t\t}\n\t\t],\n\t\tdescription: [{\n\t\t\t\ttype: 'required',\n\t\t\t\tmessage: 'Description is required'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'maxlength',\n\t\t\t\tmessage: 'Description must me shorter than 10000 characters'\n\t\t\t}\n\t\t],\n\t\tcomment: [{\n\t\t\ttype: 'maxlength',\n\t\t\tmessage: 'Comment must me shorter than 10000 characters'\n\t\t}]\n\t};\n\n\tconstructor(\n\t\tprivate route: ActivatedRoute,\n\t\tprivate router: Router,\n\t\tprivate productService: ProductService,\n\t\tprivate orderService: OrderService,\n\t\tprivate formBuilder: FormBuilder,\n\t\tprivate progressIndicatorService: ProgressIndicatorService,\n\t\tprivate authService: AuthService\n\t) {\n\t\tthis.isLoggedIn = authService.isLoggedIn();\n\t\tconsole.log(this.loggedIn);\n\t}\n\n\tget product() {\n\t\treturn this.productInformation;\n\t}\n\n\tget orderingDetails() {\n\t\treturn this.showOrderingDetails;\n\t}\n\n\tget loggedIn() {\n\t\treturn this.isLoggedIn;\n\t}\n\n\tonOrder() {\n\t\tif (this.orderForm.invalid) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst val = this.orderForm.value;\n\t\tthis.orderService.place(val, this.productId).subscribe(data => {\n\t\t\tthis.orderForm.reset();\n\t\t\tthis.progressIndicatorService.presentToast('Order successfully placed');\n\t\t}, error => {\n\t\t\tconsole.log(error.error.error);\n\t\t\tthis.progressIndicatorService.presentToast(error.error.error, 'danger');\n\t\t});\n\t}\n\n\tarray(n: number): number[] {\n        const arr = Array(n);\n        return Array.from(arr.keys()).map(ind => ind + 1);\n\t}\n\t\n\n\n\tonSubmitReview() {\n\t\tif (this.reviewForm.invalid) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst val = {\n\t\t\tcomment: this.reviewForm.value.comment,\n\t\t\trating: this.rating,\n\t\t\tproductId: this.productId\n\t\t};\n\t\tthis.productService.addReview(val).subscribe(data => {\n\t\t\tthis.orderForm.reset();\n\t\t\tthis.progressIndicatorService.presentToast('Review successfully added');\n\t\t}, error => {\n\t\t\tconsole.log(error.error.error);\n\t\t\tthis.progressIndicatorService.presentToast(error.error.error, 'danger');\n\t\t});\n\t}\n\n\tfillTo(n: number): void {\n\t\tthis.filledStars = n;\n\t}\n\n\tget hasBought() {\n\t\treturn this._hasBought;\n\t}\n\n\tngOnInit() {\n\t\tthis.route.paramMap.subscribe(params => {\n\t\t\tif (params.get('productId') === null) {\n\t\t\t\tthis.router.navigate(['/subcategory']);\n\t\t\t} else {\n\t\t\t\tthis.productId = params.get('productId');\n\t\t\t\tthis.displayProductInformation(this.productId);\n\t\t\t}\n\t\t});\n\n\t\tthis.productService.hasBought(this.productId).subscribe(data => {\n\t\t\tthis._hasBought = (data as any).hasBought;\n\t\t});\n\n\n\t\tthis.orderForm = this.formBuilder.group({\n\t\t\tstartDate: ['', [Validators.required]],\n\t\t\tendDate: ['', [Validators.required]],\n\t\t\tdescription: ['', [Validators.required, Validators.maxLength(400)]]\n\t\t});\n\n\t\tthis.reviewForm = this.formBuilder.group({\n\t\t\tcomment: [''],\n\t\t\trating: [5, [Validators.required]],\n\t\t});\n\t}\n\n\tonClickBuy() {\n\t\tthis.showOrderingDetails = !this.showOrderingDetails;\n\t}\n\n\tonRatingChanged(n: number) {\n\t\tthis.rating = n;\n\t}\n\n\tdisplayProductInformation(productId: any) {\n\t\tthis.productService\n\t\t\t.getSingleProduct(productId)\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.productInformation = data;\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t},\n\n\t\t\t\terr => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t}\n\t\t\t);\n\t}\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Byb2R1Y3QtZGV0YWlscy9wcm9kdWN0LXJldmlldy9wcm9kdWN0LXJldmlldy5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, Input, OnInit} from '@angular/core';\nimport {UserService} from '../../../core/services/userService/user.service';\n\n@Component({\n  selector: 'app-product-review',\n  templateUrl: './product-review.component.html',\n  styleUrls: ['./product-review.component.scss'],\n})\nexport class ProductReviewComponent implements OnInit {\n  @Input() review;\n  user;\n\n  constructor(\n      private userService: UserService\n  ) { }\n\n  ngOnInit() {\n    this.user = this.review.user;\n  }\n\n}\n"],"sourceRoot":""}